<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>–ñ–∞–¥—ñ–±–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —É –∑–∞–¥–∞—á—ñ –ø–∞–∫—É–≤–∞–Ω–Ω—è —Ä—é–∫–∑–∞–∫–∞</title>
  <style>
    body{
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .content{
      min-width: 600px;
      max-width: 800px;
      display: flex;
      flex-direction: column;
    }

    #allItems{
      height: 120px;
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    #generate{
      margin-top: 20px;
    }
    #itemsInBag{
      height: 120px;
      display: flex;
      justify-content: center;
    }
    .bagItem{
      display: flex;
      flex-direction: column;
    }
    .emoji{
      font-size: 50px;
    }
    .price{
      font-size: 15px;
      display: flex;
      justify-content: center;
    }
    .weight{
      font-size: 15px;
      display: flex;
      justify-content: center;
    }
    button{
      width: 600px;
      height: 50px;
      font-size: 20px;
    }
    #bagMaxWeight{
      font-size: 15px;
    }
    label{
      font-size: 20px;
    }

  </style>
</head>
<body>
<script>
  //–°–ø–∏—Å–æ–∫ —É—Å—ñ—Ö –º–æ–∂–ª–∏–≤–∏—Ö –ø—Ä–µ–¥–º–µ—Ç—ñ–≤
  const ALL_ITEMS = [
      {
        "name": "–ü–∞–ª–∞—Ç–∫–∞",
        "emoji": "‚õ∫",
        "weight": 6.5,
        "price": 1500
      },
      {
        "name": "–°–ø–∞–ª—å–Ω–∏–π –º—ñ—à–æ–∫",
        "emoji": "üõèÔ∏è",
        "weight": 2.2,
        "price": 800
      },
      {
        "name": "–¢—É—Ä–∏—Å—Ç–∏—á–Ω–∏–π –∫–æ—Ç–µ–ª–æ–∫",
        "emoji": "üç≥",
        "weight": 2.8,
        "price": 250
      },
      {
        "name": "–¢—Ä–µ–∫—ñ–Ω–≥–æ–≤—ñ –ø–∞–ª–∏—Ü—ñ",
        "emoji": "ü•æ",
        "weight": 1.3,
        "price": 300
      },
      {
        "name": "–¢—É—Ä–∏—Å—Ç–∏—á–Ω–∏–π –∫–∞—Ä–µ–º–∞—Ç",
        "emoji": "üß∫",
        "weight": 2,
        "price": 150
      },
      {
        "name": "–¢–µ—Ä–º–æ—Å",
        "emoji": "üßä",
        "weight": 1,
        "price": 200
      },
      {
        "name": "–ö–æ–º–ø–∞—Å",
        "emoji": "üß≠",
        "weight": 0.4,
        "price": 100
      },
      {
        "name": "–§–æ–Ω–∞—Ä–∏–∫",
        "emoji": "üî¶",
        "weight": 0.3,
        "price": 150
      },
      {
        "name": "–ù–∞–º–µ—Ç–æ–≤–∞ –ª—ñ–∂–∫–∞",
        "emoji": "üõå",
        "weight": 6.5,
        "price": 600
      },
      {
        "name": "–ì–∞–º–∞–Ω–µ—Ü—å –∑ –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏–∫–Ω–∏–º –ø–æ–∫—Ä–∏—Ç—Ç—è–º",
        "emoji": "üëù",
        "weight": 0.3,
        "price": 50
      },
      {
        "name": "–ë–∞–Ω–∞–Ω",
        "emoji": "üçå",
        "weight": 0.1,
        "price": 20
      },
      {
        "name": "–ö–æ–º–ø–ª–µ–∫—Ç –ø–µ—Ä—à–æ—ó –¥–æ–ø–æ–º–æ–≥–∏",
        "emoji": "üöë",
        "weight": 4,
        "price": 200
      },
      {
        "name": "–¢—Ä–∏–º–∞—á –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω—É",
        "emoji": "üì±",
        "weight": 0.45,
        "price": 80
      },
      {
        "name": "–ú–æ—Å–∫—ñ—Ç–Ω–∞ —Å—ñ—Ç–∫–∞",
        "emoji": "ü¶ü",
        "weight": 0.7,
        "price": 100
      },
      {
        "name": "–¢—É–∞–ª–µ—Ç–Ω–∏–π –ø–∞–ø—ñ—Ä",
        "emoji": "üßª",
        "weight": 0.2,
        "price": 20
      },
      {
        "name": "–ö–æ–º–ø–∞–∫—Ç–Ω–µ —Å–∫–ª–∞–¥–∞–Ω–µ –∫—Ä—ñ—Å–ª–æ",
        "emoji": "ü™ë",
        "weight": 3,
        "price": 300
      },
      {
        "name": "–¢—É—Ä–∏—Å—Ç–∏—á–Ω–∞ –ø–∞–ª–∞—Ç–∫–∞-–≥–∞–º–∞–∫",
        "emoji": "üèïÔ∏è",
        "weight": 3.5,
        "price": 700
      },
      {
        "name": "–°–∞–º–æ–ø–æ–≤—Ç–æ—Ä—é–≤–∞—á",
        "emoji": "üì¢",
        "weight": 1.2,
        "price": 150
      },
      {
        "name": "–ë—ñ–Ω–æ–∫–ª—å",
        "emoji": "üî≠",
        "weight": 2,
        "price": 250
      },
      {
        "name": "–ü–ª—è—à–∫–∞ –¥–ª—è –≤–æ–¥–∏",
        "emoji": "üö∞",
        "weight": 1,
        "price": 30
      }
    ];
  let items = [];

  //–ú–µ—Ç–æ–¥, —è–∫–∏–π –¥–æ–≤—ñ–ª—å–Ω–∏–º —á–∏–Ω–æ–º –≤–∏–±–∏—Ä–∞—Ç–∏–º–µ 5-10 –¥–æ–≤—ñ–ª—å–Ω–∏—Ö –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ –∑—ñ —Å–ø–∏—Å–∫—É ALL_ITEMS, –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏–º–µ —ó—Ö —Ç–∞
  //–∑–±–µ—Ä—ñ–≥–∞—Ç–∏–º–µ —ó—Ö —É –∑–º—ñ–Ω–Ω—É items
  function generateItems() {
    document.getElementById("itemsInBag").innerHTML = '';
    let numberOfItems = Math.floor(Math.random() * (10 - 5 + 1)) + 5;
    items = ALL_ITEMS.sort(() => .5 - Math.random()).slice(0,numberOfItems);
    drawItems(document.getElementById("allItems"), items);
  }

  //–ú–µ—Ç–æ–¥, —è–∫–∏–π –≤—ñ–¥–º–∞–ª—å–æ–≤—É—î –ø—Ä–µ–¥–º–µ—Ç–∏ —É –≤–∫–∞–∑–∞–Ω–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ
  function drawItems(elementThatWillContainDrawnItems, itemsToDraw){
    let itemsHtml = itemsToDraw.map(function(item){
      let rate = item.price/item.weight;
      return `<div class="bagItem">
                <div title="${item.name}" class="emoji">${item.emoji}</div>
                <span class="price">${item.price}–≥—Ä–Ω</span>
                <span class="weight">${item.weight}–∫–≥</span>
                <span class="weight">${rate.toFixed(2)}<br/>–≥—Ä–Ω/–∫–≥</span>

              </div>`;
    })
    elementThatWillContainDrawnItems.innerHTML = itemsHtml.join('');
  }

  //–ú–µ—Ç–æ–¥, —è–∫–∏–π –æ–±–∏—Ä–∞—Ç–∏–º–µ –ø—Ä–µ–¥–º–µ—Ç–∏ –∑—ñ —Å–ø–∏—Å–∫—É items —É —Ä—é–∫–∑–∞–∫, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∂–∞–¥—ñ–±–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É
  function putItemsToBag(){
    let bagItems = [],
        currentWeightOfItemsInBag = 0, //–≤–∞–≥–∞ —è–∫–∞ –∑–∞—Ä–∞–∑ —É —Ä—é–∫–∑–∞–∫—É
        bagMaxWeight = document.getElementById('bagMaxWeight').value; //–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –≤–∞–≥–∞ —Ä—é–∫–∑–∞–∫–∞ —è–∫—É –º–æ–∂–µ –≤–º—ñ—Å—Ç–∏—Ç–∏ —Ä—é–∫–∑–∞–∫


    //–°–ø–µ—Ä—à—É —Å–æ—Ä—Ç—É—î–º–æ –ø—Ä–µ–¥–º–µ—Ç–∏ –∑–∞ —Å–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è–º —Ü—ñ–Ω–∞/–≤–∞–≥–∞
    items.sort(function(a, b){
      return b.price/b.weight - a.price/a.weight;
    });

    //–ë—ñ–∂–∏–º–æ –ø–æ —Å–ø–∏—Å–∫—É –ø—Ä–µ–¥–º–µ—Ç—ñ–≤
    for (let i in items) {
      if (items[i].weight <= bagMaxWeight - currentWeightOfItemsInBag) { //—è–∫—â–æ –ø–µ—Ä–¥–º–µ—Ç –ø–æ–º—ñ—â–∞—î—Ç—å—Å—è –≤ —Ä–µ—à—Ç—É –≤—ñ–ª—å–Ω–æ–≥–æ –º—ñ—Å—Ü—è —É —Ä—é–∫–∑–∞–∫—É
        currentWeightOfItemsInBag += items[i].weight;
        bagItems.push(items[i]); //–¥–æ–¥–∞—î–º–æ –π–æ–≥–æ —É —Ä—é–∫–∑–∞–∫
      }
      if (currentWeightOfItemsInBag === bagMaxWeight){
        break;
      }
    }

    //–≤—ñ–¥–º–∞–ª—å–æ–≤—É—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    drawItems(document.getElementById("itemsInBag"), bagItems);
  }
</script>

<div class="content">
  <button onclick="generateItems()">–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –¥–æ–≤—ñ–ª—å–Ω–∏–π –Ω–∞–±—ñ—Ä –ø—Ä–µ–¥–º–µ—Ç—ñ–≤</button>

  <div id="allItems">
  </div>
  <div>
    <label for="bagMaxWeight">–í–≤–µ–¥—ñ—Ç—å –≤–∞–≥—É —è–∫—É –≤–∏—Ç—Ä–∏–º–∞—î –≤–∞—à —Ä—é–∫–∑–∞–∫:</label>
    <input type="number" min="1" max="15" id="bagMaxWeight" value="10">
  </div>

  <button id="generate" onclick="putItemsToBag()">–ó–ø–∞–∫—É–≤–∞—Ç–∏ —Ä—é–∫–∑–∞–∫</button>
  <div id="itemsInBag">
  </div>
</div>
</body>

</html>